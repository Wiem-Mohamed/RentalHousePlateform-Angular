<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<div class="container" *ngIf="annonce">

  <div class="images" *ngIf="annonce.images.length > 0">
    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <button *ngFor="let image of annonce.images; let i = index" type="button" data-bs-target="#carouselExampleIndicators" [attr.data-bs-slide-to]="i" [class.active]="i === 0" [attr.aria-label]="'Slide ' + (i + 1)"></button>
      </div>
      <div class="carousel-inner">
        <div *ngFor="let image of annonce.images; let i = index" class="carousel-item" [class.active]="i === 0">
          <img [src]="image" class="d-block w-100" alt="...">
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    <div class="gallerie">
      <img *ngFor="let image of annonce.images; let i = index" [src]="annonce.images[i]" alt="Image de l'annonce">

    </div>
  </div>

  
  <div class="user-info">
    <div class="user">
      <img src="assets/images/user.png" alt="user image">
      <div class="user-details">
        <a href="/here" class="user-name">{{ user.name }}</a>
        <a href="/here" class="user-announcements">Annonces du membre</a>
        <div class="user-contact">
          <div class="phone">
          <i class="fa-solid fa-phone fa-xl"></i>
          <p class="telephone">{{ annonce.telephone }}</p>
        </div>
        <div class="alert alert-primary" role="alert">
          L'annonceur accepte uniquement le contact par téléphone
        </div>
          
        </div>
        

      </div>
    
    </div>
    <div class="annonce">
      <i class="bi bi-bag-heart-fill"></i>
      <h2>{{ annonce.titre }}</h2>
      <p class="annonce-price">{{ annonce.prix }} DT</p>
      <div class="localisation">
      <i class="fa-solid fa-location-dot fa-xl"></i>
      <p class="annonce-location">{{ annonce.gouvernorat }} ,il y a {{ calculerPeriode(annonce.dateDepot) }}</p>
      </div>
      <p class="annonce-price">Disponible le {{annonce.disponible}}</p>
      <p class="annonce-description">{{ annonce.description }}</p>
      <div class="icon-container" >
        
        <i *ngIf="isConnected()" class="fa-solid fa-heart fa-xl favorie" 
   [class.favori-rouge]="estFavori" 
   (click)="AjouterFavorie()"></i>

      </div>
      
    </div>
  </div>
  
</div>
<app-footer ></app-footer>


